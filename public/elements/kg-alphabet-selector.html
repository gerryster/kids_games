<polymer-element name="kg-alphabet-selector" attributes="model gameOver">
  <template>
    <template repeat="{{alphabet}}">
      <label for="letter-{{letter}}">{{letter}}</label>
      <input type="radio" name="letter" id="letter-{{letter}}" value="{{letter}}" on-click="selectLetter"><br>
    </template>
  </template>
  <script>
    Polymer('kg-alphabet-selector', {
      initAlphabet: function() {
        console.log("in setupAlphabet");
        var alphabet = [];
        ("ABCDEFGHIJKLMNOPQRSTUVWXYZ").split("").forEach(function(letter, i) {
          alphabet.push({letter: letter});
        });
        this.alphabet = alphabet;
      },

      selectLetter: function(event) {
        var letter = event.target.value;
        this.model.guessLetter(letter);
        this.alphabet = _.filter(this.alphabet,
            function(letter_obj){ return letter_obj.letter !== letter })
      },

      gameOverChanged: function() {
        // re-initalize this element when the game starts
        !this.gameOver && this.initAlphabet();
      }
    });
  </script>
</polymer-element>
